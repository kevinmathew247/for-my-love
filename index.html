<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <!--===== HEADER =====-->
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="index.html" class="nav__logo">Archu & Kevin‚ù§Ô∏è</a>
            </div>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="index.html" class="nav__link active-link">Home</a></li>
                    <li class="nav__item"><a href="index.html#music" class="nav__link">Music</a></li>
                    <li class="nav__item"><a href="milestones.html" class="nav__link">Milestones</a></li>
                    <li class="nav__item"><a href="gallery.html" class="nav__link">Gallery</a></li>
                    <li class="nav__item"><a href="games.html" class="nav__link">Games</a></li>
                </ul>
            </div>

            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>
        </nav>
    </header>
    <div class="light-garland" aria-hidden="true">
        <span class="bulb bulb-red"></span>
        <span class="bulb bulb-gold"></span>
        <span class="bulb bulb-green"></span>
        <span class="bulb bulb-pink"></span>
        <span class="bulb bulb-gold"></span>
        <span class="bulb bulb-red"></span>
        <span class="bulb bulb-green"></span>
        <span class="bulb bulb-gold"></span>
        <span class="bulb bulb-pink"></span>
        <span class="bulb bulb-green"></span>
    </div>
    <div class="snow-layer" aria-hidden="true">
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
    </div>

    <main class="l-main">
        <!--===== HOME =====-->
        <section class="home bd-grid" id="home">
            <div class="home__data">
                <h1 class="home__title">
                    <span class="home__title-color">Merry Christmas üéÑ</span><br>
                    & Happy New Year, My Love ‚ú®<br>
                    I Love You So Much ‚ù§Ô∏è
                </h1>
                </br>

                <div class="home__img-container">
                    <img src="assets/img/home-pic.png" alt="Us" class="home__img">
                    <br>
                </div>

                <a href="milestones.html" class="button story-button">See Our Story</a>

                <!-- Countdown Timer -->
                <div id="countdown-container">
                    <h3>Until We Meet üíñ</h3>
                    <div id="countdown">Loading...</div>
                </div>

                <div class="love-card">
                    <p class="love-opening">To My Love,</p>

                    <p class="love-text">
                        As this year comes to an end, my heart feels fuller than ever because of you. You are the greatest gift life has ever given me, and every day with you feels like a blessing I never deserve but always cherish.
                    </p>

                    <p class="love-text">
                        I love the way we love each other. The way we understand one another, support each other, laugh together, and hold on even when it gets hard. I know long distance is hard but our love only seems to grow stronger. Every obstacle reminds me how deep our bond is and how incredibly lucky I am to have a love like ours and a partner like you.
                    </p>

                    <p class="love-text">
                        I wish we were spending this Christmas together! My soul is right there with you, holding your hand and dreaming of all the beautiful moments waiting for us. I know that every Christmas from now on will feel warmer and brighter because it will be with you.
                    </p>

                    <p class="love-text">
                        Kutta, as we step into this New Year, the year we get married, I want you to know how excited I am to spend a lifetime loving you. I cannot wait to build a home with you, celebrate every joy together, face every challenge side by side, and grow old hand in hand.
                    </p>

                    <p class="love-text">
                        You are my heart, my peace, my future, and my forever. I love you mwuthe. Mwaaaahh!
                    </p>

                    <p class="love-sign">
                        Always and forever yours,<br>
                        <span class="love-name">Kev</span>
                    </p>

                    <div class="heart-wrap" aria-hidden="true">
                        <span class="heart">‚ù§</span>
                    </div>
                </div>

            </div>
        </section>   

        <section class="music-section bd-grid" id="music">
            <div class="music__header">
                <p class="section-subtitle">Our soundtrack</p>
                <h2 class="section-title">Songs that feel like us</h2>
                <p class="section-copy">Tap a track to play or pause our saved songs.</p>
            </div>
            <div class="music-grid" id="music-grid" aria-live="polite">
                <div class="music-card skeleton">
                    <div class="skeleton-art"></div>
                    <div class="skeleton-lines">
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="music-card skeleton">
                    <div class="skeleton-art"></div>
                    <div class="skeleton-lines">
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="music-card skeleton">
                    <div class="skeleton-art"></div>
                    <div class="skeleton-lines">
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </section>  
    </main>

    <audio id="audio-player" preload="auto"></audio>

    <!--===== FOOTER =====-->
    <footer class="footer">
        <p class="footer__title">With Love ‚ù§Ô∏è</p>
        <div class="footer__social">
            <a href="https://www.instagram.com/_kevin_mathew_?igsh=MXJlcWR0Ym10NTFtZA==" class="footer__icon"><i class='bx bxl-instagram'></i></a>
            <a href="https://www.instagram.com/archanajose?igsh=dHBkY3Jrdnp2dGU5" class="footer__icon"><i class='bx bxl-instagram'></i></a>
        </div>
        <p class="footer__copy">Our forever space ¬© 2025</p>
    </footer>

    <!--===== HAMBURGER MENU JS =====-->
    <script>
        const toggle = document.getElementById('nav-toggle');
        const menu = document.getElementById('nav-menu');
        const navLinks = document.querySelectorAll('.nav__link');

        if (toggle && menu) {
            toggle.addEventListener('click', () => {
                menu.classList.toggle('show');
            });
        }

        navLinks.forEach((link) => {
            link.addEventListener('click', () => {
                // Update active state so only the clicked link is highlighted
                navLinks.forEach((l) => l.classList.remove('active-link'));
                link.classList.add('active-link');

                // Close the mobile nav after a selection
                if (menu) {
                    menu.classList.remove('show');
                }
            });
        });
    </script>

    <script>
        const targetDate = new Date(2026, 1, 27, 0, 0, 0);
        const countdownEl = document.getElementById('countdown');
        let timerInterval;

        function updateCountdown() {
            if (!countdownEl) return;

            const now = new Date();
            const diff = targetDate - now;

            if(diff <= 0){
                countdownEl.innerHTML = "We're Together! üíï";
                clearInterval(timerInterval);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
        }

        timerInterval = setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>

    <script>
        const songsILove = [
            { title: 'Her', artist: 'JVKE', src: 'assets/songs/JVKE - her official lyric video.mp3' },
            { title: 'Pretty', artist: 'JVKE', src: 'assets/songs/JVKE -  pretty (official lyric video).mp3' },
            { title: 'Carry You Home', artist: 'Alex Warren', src: 'assets/songs/Alex Warren - Carry You Home (Lyrics).mp3' },
            { title: 'Those Eyes', artist: 'New West', src: 'assets/songs/New West - Those Eyes (Lyrics).mp3' },
            { title: 'I Think They Call This Love', artist: 'Elliot James Reay', src: 'assets/songs/Elliot James Reay - I Think They Call This Love (Official Music Video).mp3' },
            { title: 'Deeper Than It Seems', artist: 'Jace June', src: 'assets/songs/Jace June - Deeper Than It Seems (Official Lyric Video).mp3' },
        ];

        const musicGrid = document.getElementById('music-grid');
        const audio = document.getElementById('audio-player');
        let activeCard = null;

        function createCard(track) {
            const card = document.createElement('button');
            card.className = 'music-card';
            card.type = 'button';

            card.innerHTML = `
                <div class="music-art music-art--plain">
                    <div class="music-overlay">
                        <span class="music-play-icon play" aria-hidden="true">‚ñ∂</span>
                        <span class="music-play-icon pause" aria-hidden="true">‚è∏</span>
                    </div>
                </div>
                <div class="music-meta">
                    <h3>${track.title}</h3>
                    <p>${track.artist}</p>
                    <span class="music-now">Now Playing</span>
                </div>
            `;

            card.addEventListener('click', () => handlePlay(card, track));
            return card;
        }

        function handlePlay(card, track) {
            if (!audio) return;

            if (activeCard === card) {
                if (audio.paused) {
                    audio.play();
                    card.classList.add('is-playing');
                } else {
                    audio.pause();
                    card.classList.remove('is-playing');
                }
                return;
            }

            if (activeCard && activeCard !== card) {
                activeCard.classList.remove('is-playing');
            }

            audio.src = track.src;
            audio.currentTime = 0;
            audio.play();
            activeCard = card;
            card.classList.add('is-playing');
        }

        function buildMusicGrid() {
            if (!musicGrid) return;
            musicGrid.innerHTML = '';

            songsILove.forEach((song) => {
                musicGrid.appendChild(createCard(song));
            });
        }

        audio.addEventListener('ended', () => {
            if (activeCard) {
                activeCard.classList.remove('is-playing');
                activeCard = null;
            }
        });

        buildMusicGrid();
    </script>
