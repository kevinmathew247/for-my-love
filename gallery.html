<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Gallery ❤️</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <!--===== HEADER =====-->
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="index.html" class="nav__logo">Kevin & Archu❤️</a>
            </div>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="index.html" class="nav__link">Home</a></li>
                    <li class="nav__item"><a href="milestones.html" class="nav__link">Milestones</a></li>
                    <li class="nav__item"><a href="gallery.html" class="nav__link active-link">Gallery</a></li>
                </ul>
            </div>

            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>
        </nav>
    </header>

   <!--===== GALLERY SECTION =====-->
    <main class="l-main">
        <section class="section">
            <h2 class="section-title">Our Favorite Moments 📸</h2>
            <div class="gallery__container">
                <!-- Polaroid Card 1 -->
                <div class="polaroid">
                    <img src="assets/img/gallery1.png" alt="Our Cartoon Pic Together">
                    <p>💞 Our first vision of "us"💖</p>
                </div>

                <!-- Polaroid Card 2 -->
                <div class="polaroid">
                    <img src="assets/img/gallery2.png" alt="Our Onam Celebration">
                    <p>🎉 Our Onam together. Obsessed!</p>
                </div>

                <!-- Polaroid Card 3 -->
                <div class="polaroid">
                    <img src="assets/img/gallery3.png" alt="Cute Couple Pic">
                    <p>🥰 Don’t we look cute or what?!</p>
                </div>
            </div>
        </section>
    </main>

    <!--===== FOOTER =====-->
    <footer class="footer">
        <p class="footer__title">With Love ❤️</p>
        <div class="footer__social">
            <a href="https://www.instagram.com/_kevin_mathew_?igsh=MXJlcWR0Ym10NTFtZA==" class="footer__icon"><i class='bx bxl-instagram'></i></a>
            <a href="https://www.instagram.com/archanajose?igsh=dHBkY3Jrdnp2dGU5" class="footer__icon"><i class='bx bxl-instagram'></i></a>
        </div>
        <p class="footer__copy">Our forever space © 2025</p>
    </footer>

    <!--===== HAMBURGER MENU JS =====-->
    <script>
        const toggle = document.getElementById('nav-toggle');
        const menu = document.getElementById('nav-menu');

        toggle.addEventListener('click', () => {
            menu.classList.toggle('show');
        });

       document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('nav-toggle');
    const menu = document.getElementById('nav-menu');

    toggle.addEventListener('click', () => {
        menu.classList.toggle('show');
    });

    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.querySelector('.lightbox-img');
    const closeBtn = document.querySelector('.lightbox-close');
    const downloadBtn = document.querySelector('.lightbox-download');

    document.querySelectorAll('.polaroid img').forEach(img => {
        img.addEventListener('click', () => {
            lightbox.style.display = 'flex';
            lightboxImg.src = img.src;

            // Remove any old listeners
            const newDownloadBtn = downloadBtn.cloneNode(true);
            downloadBtn.parentNode.replaceChild(newDownloadBtn, downloadBtn);

            newDownloadBtn.addEventListener('click', () => {
                // Use fetch + blob to download
                fetch(img.src)
                    .then(resp => resp.blob())
                    .then(blob => {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = img.src.split('/').pop(); // Extract file name
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    })
                    .catch(() => alert('Download failed!'));
            });
        });
    });

    closeBtn.addEventListener('click', () => {
        lightbox.style.display = 'none';
    });

    lightbox.addEventListener('click', e => {
        if (e.target === lightbox) {
            lightbox.style.display = 'none';
        }
    });
});
    </script>

    <!-- Lightbox Popup -->
    <div id="lightbox" class="lightbox">
    <span class="lightbox-close">&times;</span>
    <img class="lightbox-img" src="" alt="Full View">
    <button class="lightbox-download">Download 💾</button>
</div>
</body>
</html>